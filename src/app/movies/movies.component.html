<h2>Movies</h2>

<div>
  <input #searchPhrase />
  <button (click)="search(searchPhrase.value)">search</button>
</div>

<div>
  <div *ngFor="let selectedFilter of selectedFilters; let i=index">
      <select [(ngModel)]="selectedFilter.filterKind">
          <option [value]="0" [selected]="selectedFilter.filterKind == 0">Include</option>
          <option [value]="1" [selected]="selectedFilter.filterKind == 1">Exclude</option>
       </select>
       <select [(ngModel)]="selectedFilters[i]" (ngModelChange)="filterChanged(selectedFilter, $event)">
         <option *ngFor="let filter of getAvailableFilters(selectedFilter)" [ngValue]="filter">{{filter.name}}</option>
       </select>
       {{selectedFilter.name}}
       <button (click)="removeFilter(selectedFilter)">Remove</button>
  </div>
  <button [hidden]="hasFilterToBeAdded() === false" (click)="addFilter()">Add filter</button>
</div>

<table>
  <tr>
    <th>Title</th>
    <th>Country</th>
    <th>Rating</th>
    <th>Year</th>
  </tr>
  <tr *ngFor="let movie of movies">
    <td>{{movie.title}}</td>
    <td>{{movie.country}}</td>
    <td>{{movie.rating}}</td>
    <td>{{movie.year}}</td>
  </tr>
</table>